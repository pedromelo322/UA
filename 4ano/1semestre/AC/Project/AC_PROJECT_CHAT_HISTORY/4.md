Analisei os teus ficheiros de configuração e os outputs dos comandos. **Está excelente!** Conseguiste concluir a Fase 1 com sucesso.

Aqui está a validação técnica do que fizeste:

1. **Conectividade IP (OSPF):**
* O `ping 10.0.0.3` (Lisbon Loopback) a partir do Porto funcionou.
* O `show ip route ospf` no Porto mostra que ele conhece as redes de Lisboa (`10.0.1.20/30`) e os Loopbacks de todos os routers.


2. **MPLS (LDP):**
* O comando `show mpls ldp neighbor` mostra o estado **"Oper"** para os vizinhos, o que significa que as sessões LDP estão estabelecidas.
* O comando `show mpls forwarding-table` confirma que tens etiquetas (Labels) atribuídas. Por exemplo, para chegar a Lisboa (`10.0.0.3`), o Porto vai usar a etiqueta `19` (se for via Core1) ou `17` (se for via Core2).


3. **Configuração de Interfaces:**
* Respeitaste a regra de ouro: **Não ativaste `mpls ip` nas interfaces viradas para o Data Center** (ex: `FastEthernet1/0` no Lisbon/Porto). Isto é crucial para que o router não tente enviar pacotes MPLS para os switches Linux.



---

### Pequena Nota de "Pro" (Melhoria Opcional)

Reparei no `show mpls ldp neighbor` que os teus vizinhos estão a identificar-se com o IP da interface física (ex: `Peer LDP Ident: 10.0.1.10:0`) em vez do IP de Loopback.

Embora funcione, em ambientes de produção é boa prática forçar o LDP a usar o Loopback para estabilidade (se o link cair, a sessão LDP não muda de ID).
*Se quiseres refinar (não é obrigatório), podes correr isto em todos os Ciscos:*

```bash
mpls ldp router-id Loopback0 force

```

---

### Fase 2: O Data Center (Linux FRR) - Parte 1 (Underlay)

Agora que a "autoestrada" (Core Cisco) está pronta, vamos ligar as estradas secundárias (Data Center).
Nesta etapa, vamos configurar os **Spines (S1, S2)** e os **Leafs** para terem conectividade IP básica.

**Objetivo:** O Leaf `L11` (Lisboa) tem de conseguir pingar o Leaf `L21` (Porto) usando os seus IPs de Loopback0.

#### O que tens de fazer nos Contentores Linux (FRR):

**1. Ativar os Deamons (Serviços)**
Nos routers Linux FRR, tens de editar o ficheiro `/etc/frr/daemons` e garantir que o `ospfd` e o `bgpd` estão ativos (`=yes`).
*(Normalmente nas imagens GNS3 isto já vem feito ou faz-se no arranque, mas confirma).*

**2. Configurar Interfaces e OSPF (Underlay)**
Tens de entrar na consola `vtysh` de cada switch (S1, S2, L11, L12, L13, L21, L22, L23) e configurar:

1. **Interfaces:** IPs nos links físicos e na Loopback0 (segundo o nosso plano de endereçamento).
2. **OSPF:** Anunciar estas redes na Area 0.

**Exemplo para o Spine S1 (Lisboa):**
*Relembro o plano: S1 Loopback0 = `10.0.0.11`, S1-Lisbon = `10.0.1.22/30` (o Cisco é .21)*

```bash
vtysh
conf t
!
interface lo
 ip address 10.0.0.11/32
!
interface eth0
 description Link_to_Cisco_Lisbon
 ip address 10.0.1.22/30
!
interface eth1
 description Link_to_Leaf_L11
 ip address 10.0.1.25/30
!
! (Configura as outras interfaces para L12 e L13...)
!
router ospf
 ospf router-id 10.0.0.11
 network 10.0.0.0/16 area 0
!
end
write

```

**Exemplo para o Leaf L11 (Lisboa):**
*Relembro o plano: L11 Loopback0 = `10.0.0.21`, L11 Loopback1 (TE) = `10.0.0.121`, Link S1-L11 = `10.0.1.26/30*`

```bash
vtysh
conf t
!
interface lo
 ip address 10.0.0.21/32
 ! Adiciona já o IP secundário para o TE do Cliente L1
 ip address 10.0.0.121/32
!
interface eth0
 description Link_to_Spine_S1
 ip address 10.0.1.26/30
!
router ospf
 ospf router-id 10.0.0.21
 network 10.0.0.0/16 area 0
!
! Importante: OSPF em VXLAN precisa de Passive Interface na Loopback
! mas por agora deixa estar assim.
end
write

```

---

**O teu trabalho de casa:**
Configura o **S1**, **S2**, **L11** (Lisboa) e **L21** (Porto) com os IPs e OSPF.

Quando terminares, faz um ping do **L11** para o **L21** (`ping 10.0.0.31`).
Se funcionar, significa que o routing OSPF está a atravessar o Linux -> Cisco -> MPLS Core -> Cisco -> Linux.

Envia-me os configs se tiveres dúvidas ou diz-me quando o ping funcionar para avançarmos para o **BGP EVPN e VXLAN**!
